# Required: Steam key (for profile, owned games, player counts)
STEAM_API_KEY=your_steam_web_api_key_here
# Optional: reverse-proxied Steam endpoints (defaults to official Steam URLs when unset).
# STEAM_STORE_BASE_URL can point to HK VPS proxy to reduce rate-limiting.
STEAM_API_BASE_URL=https://api.steampowered.com
STEAM_STORE_BASE_URL=https://store.steampowered.com
# Optional: Store meta cache TTL (seconds, default 86400). Concurrency for Steam store requests (default 3).
#STORE_META_TTL_SEC=86400
#STORE_CONCURRENCY=3
# Optional: Nightly store meta sync (cron). Top N from SteamSpy to prime Redis; set STORE_SYNC_CRON_SECRET to protect /api/cron/sync-store-meta.
#STORE_META_SYNC_TOP_N=1000
#STORE_SYNC_CRON_SECRET=your_secret_here
# STORE_SYNC_APPIDS=1,2,3 (comma-separated appIds for testing sync without SteamSpy)
# Optional: SteamSpy API for fallback pool when store new-releases returns few (default: https://steamspy.com/api.php)
#STEAMSPY_API_BASE=https://steamspy.com/api.php
# Optional: SteamSpy 本地元数据同步脚本与 GET /api/cron/sync-steamspy；不影响推荐流程
#STEAMSPY_BASE_URL=https://steamspy.com
#STEAMSPY_CACHE_TTL=604800
#STEAMSPY_SYNC_CRON_SECRET=your_secret_here
#STEAMSPY_SYNC_MAX_PAGES=20
#STEAMSPY_SKIP_PAGE_WITHIN_HOURS=24

# Required for real AI analysis (OpenAI-compatible provider)
OPENAI_API_KEY=your_openai_compatible_api_key_here

# Optional: OpenAI-compatible API base URL (often set to proxy in China)
# OPENAI_BASE_URL=https://api.openai.com
# Optional: direct OpenAI URL; when set, proxy and direct are requested in parallel and the first response is used (avoids proxy 504)
# OPENAI_DIRECT_BASE_URL=https://api.openai.com

# Optional: model name
OPENAI_MODEL=gpt-4o-mini

# Optional DeepSeek fallback (recommended for China network conditions)
DEEPSEEK_API_KEY=your_deepseek_api_key_here
# DEEPSEEK_BASE_URL=https://api.deepseek.com
# Optional: direct DeepSeek URL; when set, proxy and direct are requested in parallel and the first response is used
# DEEPSEEK_DIRECT_BASE_URL=https://api.deepseek.com
DEEPSEEK_MODEL=deepseek-chat

# Optional headers for some third-party providers
OPENAI_SITE_URL=http://localhost:3000
OPENAI_SITE_NAME=SteamSense AI

# Optional AI timeouts (ms). With 5–8 games per scenario, responses are larger; use 45000/60000 or higher if you see timeouts.
#AI_PRIMARY_TIMEOUT_MS=45000
#AI_FALLBACK_TIMEOUT_MS=60000
ANALYSIS_PROFILE_CACHE_TTL_MS=1200000
GAME_DETAILS_CACHE_TTL_MS=900000
TOP_GAME_CATEGORY_CACHE_TTL_MS=21600000

# Optional: Redis for profile snapshot and activity diff (differential analysis)
# Option A: Local Redis (TCP)
#REDIS_URL=redis://localhost:6379
# Option B: Upstash (serverless-friendly HTTP Redis; set both when using Upstash)
#UPSTASH_REDIS_REST_URL=https://xxx.upstash.io
#UPSTASH_REDIS_REST_TOKEN=your_upstash_rest_token
#PROFILE_SNAPSHOT_TTL_SEC=2592000
#PROFILE_DIFF_TTL_SEC=900
# Session blacklist: 10 min TTL, max 50 items (recommended games not shown again until expiry)
#SESSION_BLACKLIST_TTL_SEC=600
#SESSION_BLACKLIST_MAX_SIZE=50

PORT=3000
